using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VNS.HIS.DAL
{
    /// <summary>
    /// Controller class for kn_chidinh_xn
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class KnChidinhXnController
    {
        // Preload our schema..
        KnChidinhXn thisSchemaLoad = new KnChidinhXn();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public KnChidinhXnCollection FetchAll()
        {
            KnChidinhXnCollection coll = new KnChidinhXnCollection();
            Query qry = new Query(KnChidinhXn.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public KnChidinhXnCollection FetchByID(object IdChidinh)
        {
            KnChidinhXnCollection coll = new KnChidinhXnCollection().Where("id_chidinh", IdChidinh).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public KnChidinhXnCollection FetchByQuery(Query qry)
        {
            KnChidinhXnCollection coll = new KnChidinhXnCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object IdChidinh)
        {
            return (KnChidinhXn.Delete(IdChidinh) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object IdChidinh)
        {
            return (KnChidinhXn.Destroy(IdChidinh) == 1);
        }
        
        
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(long IdKhachhang,string MaDangky,DateTime NgayChidinh,short? TrangThai,short? TrangthaiThanhtoan,DateTime? NgayThanhtoan,string Barcode,string MaBenhpham,string MaChidinh,byte? UuTien,string MotaMau,string NguoigiaoMau,string NguoinhanMau,DateTime? NgaygiaoMau,string TinhtrangMau,byte? SosanhQcvn,decimal? LuongmauThetich,decimal? LuongmauHoaly,string NguoinhanHoaly,decimal? LuongmauVisinh,string NguoinhanVisinh,byte? DagiaoMau,byte? LuuMau,string DkLuumau,DateTime? NgayluuMau,byte? ThanhlyMau,string NguoiThanhly,DateTime? NgayThanhly,string MotaThem,DateTime? NgayhenTrakq,string NguoiTrakq,DateTime? NgayTrakq,byte? TrangthaiIn,string NguoiTao,DateTime? NgayTao,string IpMaytao,string NguoiSua,DateTime? NgaySua,string IpMaysua,string LastAction,decimal? LuongmauThauphu,string NguoinhanThauphu,string NguoigiaoVisinh,string NguoigiaoHoaly,string NguoigiaoThauphu)
	    {
		    KnChidinhXn item = new KnChidinhXn();
		    
            item.IdKhachhang = IdKhachhang;
            
            item.MaDangky = MaDangky;
            
            item.NgayChidinh = NgayChidinh;
            
            item.TrangThai = TrangThai;
            
            item.TrangthaiThanhtoan = TrangthaiThanhtoan;
            
            item.NgayThanhtoan = NgayThanhtoan;
            
            item.Barcode = Barcode;
            
            item.MaBenhpham = MaBenhpham;
            
            item.MaChidinh = MaChidinh;
            
            item.UuTien = UuTien;
            
            item.MotaMau = MotaMau;
            
            item.NguoigiaoMau = NguoigiaoMau;
            
            item.NguoinhanMau = NguoinhanMau;
            
            item.NgaygiaoMau = NgaygiaoMau;
            
            item.TinhtrangMau = TinhtrangMau;
            
            item.SosanhQcvn = SosanhQcvn;
            
            item.LuongmauThetich = LuongmauThetich;
            
            item.LuongmauHoaly = LuongmauHoaly;
            
            item.NguoinhanHoaly = NguoinhanHoaly;
            
            item.LuongmauVisinh = LuongmauVisinh;
            
            item.NguoinhanVisinh = NguoinhanVisinh;
            
            item.DagiaoMau = DagiaoMau;
            
            item.LuuMau = LuuMau;
            
            item.DkLuumau = DkLuumau;
            
            item.NgayluuMau = NgayluuMau;
            
            item.ThanhlyMau = ThanhlyMau;
            
            item.NguoiThanhly = NguoiThanhly;
            
            item.NgayThanhly = NgayThanhly;
            
            item.MotaThem = MotaThem;
            
            item.NgayhenTrakq = NgayhenTrakq;
            
            item.NguoiTrakq = NguoiTrakq;
            
            item.NgayTrakq = NgayTrakq;
            
            item.TrangthaiIn = TrangthaiIn;
            
            item.NguoiTao = NguoiTao;
            
            item.NgayTao = NgayTao;
            
            item.IpMaytao = IpMaytao;
            
            item.NguoiSua = NguoiSua;
            
            item.NgaySua = NgaySua;
            
            item.IpMaysua = IpMaysua;
            
            item.LastAction = LastAction;
            
            item.LuongmauThauphu = LuongmauThauphu;
            
            item.NguoinhanThauphu = NguoinhanThauphu;
            
            item.NguoigiaoVisinh = NguoigiaoVisinh;
            
            item.NguoigiaoHoaly = NguoigiaoHoaly;
            
            item.NguoigiaoThauphu = NguoigiaoThauphu;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(long IdChidinh,long IdKhachhang,string MaDangky,DateTime NgayChidinh,short? TrangThai,short? TrangthaiThanhtoan,DateTime? NgayThanhtoan,string Barcode,string MaBenhpham,string MaChidinh,byte? UuTien,string MotaMau,string NguoigiaoMau,string NguoinhanMau,DateTime? NgaygiaoMau,string TinhtrangMau,byte? SosanhQcvn,decimal? LuongmauThetich,decimal? LuongmauHoaly,string NguoinhanHoaly,decimal? LuongmauVisinh,string NguoinhanVisinh,byte? DagiaoMau,byte? LuuMau,string DkLuumau,DateTime? NgayluuMau,byte? ThanhlyMau,string NguoiThanhly,DateTime? NgayThanhly,string MotaThem,DateTime? NgayhenTrakq,string NguoiTrakq,DateTime? NgayTrakq,byte? TrangthaiIn,string NguoiTao,DateTime? NgayTao,string IpMaytao,string NguoiSua,DateTime? NgaySua,string IpMaysua,string LastAction,decimal? LuongmauThauphu,string NguoinhanThauphu,string NguoigiaoVisinh,string NguoigiaoHoaly,string NguoigiaoThauphu)
	    {
		    KnChidinhXn item = new KnChidinhXn();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.IdChidinh = IdChidinh;
				
			item.IdKhachhang = IdKhachhang;
				
			item.MaDangky = MaDangky;
				
			item.NgayChidinh = NgayChidinh;
				
			item.TrangThai = TrangThai;
				
			item.TrangthaiThanhtoan = TrangthaiThanhtoan;
				
			item.NgayThanhtoan = NgayThanhtoan;
				
			item.Barcode = Barcode;
				
			item.MaBenhpham = MaBenhpham;
				
			item.MaChidinh = MaChidinh;
				
			item.UuTien = UuTien;
				
			item.MotaMau = MotaMau;
				
			item.NguoigiaoMau = NguoigiaoMau;
				
			item.NguoinhanMau = NguoinhanMau;
				
			item.NgaygiaoMau = NgaygiaoMau;
				
			item.TinhtrangMau = TinhtrangMau;
				
			item.SosanhQcvn = SosanhQcvn;
				
			item.LuongmauThetich = LuongmauThetich;
				
			item.LuongmauHoaly = LuongmauHoaly;
				
			item.NguoinhanHoaly = NguoinhanHoaly;
				
			item.LuongmauVisinh = LuongmauVisinh;
				
			item.NguoinhanVisinh = NguoinhanVisinh;
				
			item.DagiaoMau = DagiaoMau;
				
			item.LuuMau = LuuMau;
				
			item.DkLuumau = DkLuumau;
				
			item.NgayluuMau = NgayluuMau;
				
			item.ThanhlyMau = ThanhlyMau;
				
			item.NguoiThanhly = NguoiThanhly;
				
			item.NgayThanhly = NgayThanhly;
				
			item.MotaThem = MotaThem;
				
			item.NgayhenTrakq = NgayhenTrakq;
				
			item.NguoiTrakq = NguoiTrakq;
				
			item.NgayTrakq = NgayTrakq;
				
			item.TrangthaiIn = TrangthaiIn;
				
			item.NguoiTao = NguoiTao;
				
			item.NgayTao = NgayTao;
				
			item.IpMaytao = IpMaytao;
				
			item.NguoiSua = NguoiSua;
				
			item.NgaySua = NgaySua;
				
			item.IpMaysua = IpMaysua;
				
			item.LastAction = LastAction;
				
			item.LuongmauThauphu = LuongmauThauphu;
				
			item.NguoinhanThauphu = NguoinhanThauphu;
				
			item.NguoigiaoVisinh = NguoigiaoVisinh;
				
			item.NguoigiaoHoaly = NguoigiaoHoaly;
				
			item.NguoigiaoThauphu = NguoigiaoThauphu;
				
	        item.Save(UserName);
	    }
    }
}
