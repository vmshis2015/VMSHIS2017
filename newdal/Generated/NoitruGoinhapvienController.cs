using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VNS.HIS.DAL
{
    /// <summary>
    /// Controller class for noitru_goinhapvien
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class NoitruGoinhapvienController
    {
        // Preload our schema..
        NoitruGoinhapvien thisSchemaLoad = new NoitruGoinhapvien();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public NoitruGoinhapvienCollection FetchAll()
        {
            NoitruGoinhapvienCollection coll = new NoitruGoinhapvienCollection();
            Query qry = new Query(NoitruGoinhapvien.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public NoitruGoinhapvienCollection FetchByID(object Id)
        {
            NoitruGoinhapvienCollection coll = new NoitruGoinhapvienCollection().Where("id", Id).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public NoitruGoinhapvienCollection FetchByQuery(Query qry)
        {
            NoitruGoinhapvienCollection coll = new NoitruGoinhapvienCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object Id)
        {
            return (NoitruGoinhapvien.Delete(Id) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object Id)
        {
            return (NoitruGoinhapvien.Destroy(Id) == 1);
        }
        
        
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(string MaLuotkham,int IdBenhnhan,string MaDoitruongKcb,int? IdGoi,int? SoNgay,decimal? SoTien,DateTime? NgayHethan,DateTime? NgayTao,string NguoiTao,int? TrangThai,byte? TrangthaiXacnhan,int? IdNhanvien,byte? TrangthaiThanhtoan,DateTime? NgayKichhoat,string NguoiKichhoat,int? IdThanhtoan,string MotaThem,int? NoiTru,int? IdKhoa,int? IdBuong,int? FromIdGoiDvu,DateTime? NgaySua,string NguoiSua,string KydoChuyen,DateTime? NgayKetthuc,string NguoiKetthuc,int? TrangthaiHuy,decimal? SotienTralai,int? TrangthaiDattruoc,string KetLuan,int? IdKham,DateTime? NgayThien,string NguoiThien)
	    {
		    NoitruGoinhapvien item = new NoitruGoinhapvien();
		    
            item.MaLuotkham = MaLuotkham;
            
            item.IdBenhnhan = IdBenhnhan;
            
            item.MaDoitruongKcb = MaDoitruongKcb;
            
            item.IdGoi = IdGoi;
            
            item.SoNgay = SoNgay;
            
            item.SoTien = SoTien;
            
            item.NgayHethan = NgayHethan;
            
            item.NgayTao = NgayTao;
            
            item.NguoiTao = NguoiTao;
            
            item.TrangThai = TrangThai;
            
            item.TrangthaiXacnhan = TrangthaiXacnhan;
            
            item.IdNhanvien = IdNhanvien;
            
            item.TrangthaiThanhtoan = TrangthaiThanhtoan;
            
            item.NgayKichhoat = NgayKichhoat;
            
            item.NguoiKichhoat = NguoiKichhoat;
            
            item.IdThanhtoan = IdThanhtoan;
            
            item.MotaThem = MotaThem;
            
            item.NoiTru = NoiTru;
            
            item.IdKhoa = IdKhoa;
            
            item.IdBuong = IdBuong;
            
            item.FromIdGoiDvu = FromIdGoiDvu;
            
            item.NgaySua = NgaySua;
            
            item.NguoiSua = NguoiSua;
            
            item.KydoChuyen = KydoChuyen;
            
            item.NgayKetthuc = NgayKetthuc;
            
            item.NguoiKetthuc = NguoiKetthuc;
            
            item.TrangthaiHuy = TrangthaiHuy;
            
            item.SotienTralai = SotienTralai;
            
            item.TrangthaiDattruoc = TrangthaiDattruoc;
            
            item.KetLuan = KetLuan;
            
            item.IdKham = IdKham;
            
            item.NgayThien = NgayThien;
            
            item.NguoiThien = NguoiThien;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(int Id,string MaLuotkham,int IdBenhnhan,string MaDoitruongKcb,int? IdGoi,int? SoNgay,decimal? SoTien,DateTime? NgayHethan,DateTime? NgayTao,string NguoiTao,int? TrangThai,byte? TrangthaiXacnhan,int? IdNhanvien,byte? TrangthaiThanhtoan,DateTime? NgayKichhoat,string NguoiKichhoat,int? IdThanhtoan,string MotaThem,int? NoiTru,int? IdKhoa,int? IdBuong,int? FromIdGoiDvu,DateTime? NgaySua,string NguoiSua,string KydoChuyen,DateTime? NgayKetthuc,string NguoiKetthuc,int? TrangthaiHuy,decimal? SotienTralai,int? TrangthaiDattruoc,string KetLuan,int? IdKham,DateTime? NgayThien,string NguoiThien)
	    {
		    NoitruGoinhapvien item = new NoitruGoinhapvien();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.Id = Id;
				
			item.MaLuotkham = MaLuotkham;
				
			item.IdBenhnhan = IdBenhnhan;
				
			item.MaDoitruongKcb = MaDoitruongKcb;
				
			item.IdGoi = IdGoi;
				
			item.SoNgay = SoNgay;
				
			item.SoTien = SoTien;
				
			item.NgayHethan = NgayHethan;
				
			item.NgayTao = NgayTao;
				
			item.NguoiTao = NguoiTao;
				
			item.TrangThai = TrangThai;
				
			item.TrangthaiXacnhan = TrangthaiXacnhan;
				
			item.IdNhanvien = IdNhanvien;
				
			item.TrangthaiThanhtoan = TrangthaiThanhtoan;
				
			item.NgayKichhoat = NgayKichhoat;
				
			item.NguoiKichhoat = NguoiKichhoat;
				
			item.IdThanhtoan = IdThanhtoan;
				
			item.MotaThem = MotaThem;
				
			item.NoiTru = NoiTru;
				
			item.IdKhoa = IdKhoa;
				
			item.IdBuong = IdBuong;
				
			item.FromIdGoiDvu = FromIdGoiDvu;
				
			item.NgaySua = NgaySua;
				
			item.NguoiSua = NguoiSua;
				
			item.KydoChuyen = KydoChuyen;
				
			item.NgayKetthuc = NgayKetthuc;
				
			item.NguoiKetthuc = NguoiKetthuc;
				
			item.TrangthaiHuy = TrangthaiHuy;
				
			item.SotienTralai = SotienTralai;
				
			item.TrangthaiDattruoc = TrangthaiDattruoc;
				
			item.KetLuan = KetLuan;
				
			item.IdKham = IdKham;
				
			item.NgayThien = NgayThien;
				
			item.NguoiThien = NguoiThien;
				
	        item.Save(UserName);
	    }
    }
}
