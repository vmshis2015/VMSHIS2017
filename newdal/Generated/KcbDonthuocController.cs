using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VNS.HIS.DAL
{
    /// <summary>
    /// Controller class for kcb_donthuoc
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class KcbDonthuocController
    {
        // Preload our schema..
        KcbDonthuoc thisSchemaLoad = new KcbDonthuoc();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public KcbDonthuocCollection FetchAll()
        {
            KcbDonthuocCollection coll = new KcbDonthuocCollection();
            Query qry = new Query(KcbDonthuoc.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public KcbDonthuocCollection FetchByID(object IdDonthuoc)
        {
            KcbDonthuocCollection coll = new KcbDonthuocCollection().Where("id_donthuoc", IdDonthuoc).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public KcbDonthuocCollection FetchByQuery(Query qry)
        {
            KcbDonthuocCollection coll = new KcbDonthuocCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object IdDonthuoc)
        {
            return (KcbDonthuoc.Delete(IdDonthuoc) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object IdDonthuoc)
        {
            return (KcbDonthuoc.Destroy(IdDonthuoc) == 1);
        }
        
        
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(long? IdPhieudieutri,int? IdKhoadieutri,long? IdDonthuocthaythe,long? IdKham,long? IdBenhnhan,string MaLuotkham,DateTime NgayKedon,short? IdBacsiChidinh,byte TrangThai,byte? TthaiTonghop,byte TrangthaiThanhtoan,DateTime? NgayThanhtoan,int? IdGoi,byte? TrongGoi,string NguoiTao,DateTime NgayTao,string NguoiSua,DateTime? NgaySua,string MotaThem,string TenDonthuoc,string MaDoituongKcb,byte? Noitru,byte? KieuDonthuoc,short? IdPhongkham,long? IdBuongGiuong,short? IdBuongNoitru,short? IdGiuongNoitru,string LoidanBacsi,DateTime? NgayTaikham,string TaiKham,string MaKhoaThuchien,DateTime? NgayCapphat,string KieuThuocvattu,DateTime? NgayChot,int? IdChot,DateTime? NgayHuychot,string NguoiHuychot,string LydoHuychot,DateTime? NgayHuyxacnhan,string NguoiHuyxacnhan,string LydoHuyxacnhan,DateTime? NgayXacnhan,string NguoiXacnhan,long? IdLichsuDoituongKcb,string MatheBhyt,string IpMaytao,string IpMaysua,string TenMaytao,string TenMaysua,string LastActionName)
	    {
		    KcbDonthuoc item = new KcbDonthuoc();
		    
            item.IdPhieudieutri = IdPhieudieutri;
            
            item.IdKhoadieutri = IdKhoadieutri;
            
            item.IdDonthuocthaythe = IdDonthuocthaythe;
            
            item.IdKham = IdKham;
            
            item.IdBenhnhan = IdBenhnhan;
            
            item.MaLuotkham = MaLuotkham;
            
            item.NgayKedon = NgayKedon;
            
            item.IdBacsiChidinh = IdBacsiChidinh;
            
            item.TrangThai = TrangThai;
            
            item.TthaiTonghop = TthaiTonghop;
            
            item.TrangthaiThanhtoan = TrangthaiThanhtoan;
            
            item.NgayThanhtoan = NgayThanhtoan;
            
            item.IdGoi = IdGoi;
            
            item.TrongGoi = TrongGoi;
            
            item.NguoiTao = NguoiTao;
            
            item.NgayTao = NgayTao;
            
            item.NguoiSua = NguoiSua;
            
            item.NgaySua = NgaySua;
            
            item.MotaThem = MotaThem;
            
            item.TenDonthuoc = TenDonthuoc;
            
            item.MaDoituongKcb = MaDoituongKcb;
            
            item.Noitru = Noitru;
            
            item.KieuDonthuoc = KieuDonthuoc;
            
            item.IdPhongkham = IdPhongkham;
            
            item.IdBuongGiuong = IdBuongGiuong;
            
            item.IdBuongNoitru = IdBuongNoitru;
            
            item.IdGiuongNoitru = IdGiuongNoitru;
            
            item.LoidanBacsi = LoidanBacsi;
            
            item.NgayTaikham = NgayTaikham;
            
            item.TaiKham = TaiKham;
            
            item.MaKhoaThuchien = MaKhoaThuchien;
            
            item.NgayCapphat = NgayCapphat;
            
            item.KieuThuocvattu = KieuThuocvattu;
            
            item.NgayChot = NgayChot;
            
            item.IdChot = IdChot;
            
            item.NgayHuychot = NgayHuychot;
            
            item.NguoiHuychot = NguoiHuychot;
            
            item.LydoHuychot = LydoHuychot;
            
            item.NgayHuyxacnhan = NgayHuyxacnhan;
            
            item.NguoiHuyxacnhan = NguoiHuyxacnhan;
            
            item.LydoHuyxacnhan = LydoHuyxacnhan;
            
            item.NgayXacnhan = NgayXacnhan;
            
            item.NguoiXacnhan = NguoiXacnhan;
            
            item.IdLichsuDoituongKcb = IdLichsuDoituongKcb;
            
            item.MatheBhyt = MatheBhyt;
            
            item.IpMaytao = IpMaytao;
            
            item.IpMaysua = IpMaysua;
            
            item.TenMaytao = TenMaytao;
            
            item.TenMaysua = TenMaysua;
            
            item.LastActionName = LastActionName;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(long IdDonthuoc,long? IdPhieudieutri,int? IdKhoadieutri,long? IdDonthuocthaythe,long? IdKham,long? IdBenhnhan,string MaLuotkham,DateTime NgayKedon,short? IdBacsiChidinh,byte TrangThai,byte? TthaiTonghop,byte TrangthaiThanhtoan,DateTime? NgayThanhtoan,int? IdGoi,byte? TrongGoi,string NguoiTao,DateTime NgayTao,string NguoiSua,DateTime? NgaySua,string MotaThem,string TenDonthuoc,string MaDoituongKcb,byte? Noitru,byte? KieuDonthuoc,short? IdPhongkham,long? IdBuongGiuong,short? IdBuongNoitru,short? IdGiuongNoitru,string LoidanBacsi,DateTime? NgayTaikham,string TaiKham,string MaKhoaThuchien,DateTime? NgayCapphat,string KieuThuocvattu,DateTime? NgayChot,int? IdChot,DateTime? NgayHuychot,string NguoiHuychot,string LydoHuychot,DateTime? NgayHuyxacnhan,string NguoiHuyxacnhan,string LydoHuyxacnhan,DateTime? NgayXacnhan,string NguoiXacnhan,long? IdLichsuDoituongKcb,string MatheBhyt,string IpMaytao,string IpMaysua,string TenMaytao,string TenMaysua,string LastActionName)
	    {
		    KcbDonthuoc item = new KcbDonthuoc();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.IdDonthuoc = IdDonthuoc;
				
			item.IdPhieudieutri = IdPhieudieutri;
				
			item.IdKhoadieutri = IdKhoadieutri;
				
			item.IdDonthuocthaythe = IdDonthuocthaythe;
				
			item.IdKham = IdKham;
				
			item.IdBenhnhan = IdBenhnhan;
				
			item.MaLuotkham = MaLuotkham;
				
			item.NgayKedon = NgayKedon;
				
			item.IdBacsiChidinh = IdBacsiChidinh;
				
			item.TrangThai = TrangThai;
				
			item.TthaiTonghop = TthaiTonghop;
				
			item.TrangthaiThanhtoan = TrangthaiThanhtoan;
				
			item.NgayThanhtoan = NgayThanhtoan;
				
			item.IdGoi = IdGoi;
				
			item.TrongGoi = TrongGoi;
				
			item.NguoiTao = NguoiTao;
				
			item.NgayTao = NgayTao;
				
			item.NguoiSua = NguoiSua;
				
			item.NgaySua = NgaySua;
				
			item.MotaThem = MotaThem;
				
			item.TenDonthuoc = TenDonthuoc;
				
			item.MaDoituongKcb = MaDoituongKcb;
				
			item.Noitru = Noitru;
				
			item.KieuDonthuoc = KieuDonthuoc;
				
			item.IdPhongkham = IdPhongkham;
				
			item.IdBuongGiuong = IdBuongGiuong;
				
			item.IdBuongNoitru = IdBuongNoitru;
				
			item.IdGiuongNoitru = IdGiuongNoitru;
				
			item.LoidanBacsi = LoidanBacsi;
				
			item.NgayTaikham = NgayTaikham;
				
			item.TaiKham = TaiKham;
				
			item.MaKhoaThuchien = MaKhoaThuchien;
				
			item.NgayCapphat = NgayCapphat;
				
			item.KieuThuocvattu = KieuThuocvattu;
				
			item.NgayChot = NgayChot;
				
			item.IdChot = IdChot;
				
			item.NgayHuychot = NgayHuychot;
				
			item.NguoiHuychot = NguoiHuychot;
				
			item.LydoHuychot = LydoHuychot;
				
			item.NgayHuyxacnhan = NgayHuyxacnhan;
				
			item.NguoiHuyxacnhan = NguoiHuyxacnhan;
				
			item.LydoHuyxacnhan = LydoHuyxacnhan;
				
			item.NgayXacnhan = NgayXacnhan;
				
			item.NguoiXacnhan = NguoiXacnhan;
				
			item.IdLichsuDoituongKcb = IdLichsuDoituongKcb;
				
			item.MatheBhyt = MatheBhyt;
				
			item.IpMaytao = IpMaytao;
				
			item.IpMaysua = IpMaysua;
				
			item.TenMaytao = TenMaytao;
				
			item.TenMaysua = TenMaysua;
				
			item.LastActionName = LastActionName;
				
	        item.Save(UserName);
	    }
    }
}
