using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VNS.HIS.DAL
{
    /// <summary>
    /// Controller class for ksk_luotkham
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class KskLuotkhamController
    {
        // Preload our schema..
        KskLuotkham thisSchemaLoad = new KskLuotkham();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public KskLuotkhamCollection FetchAll()
        {
            KskLuotkhamCollection coll = new KskLuotkhamCollection();
            Query qry = new Query(KskLuotkham.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public KskLuotkhamCollection FetchByID(object MaLuotkham)
        {
            KskLuotkhamCollection coll = new KskLuotkhamCollection().Where("MaLuotkham", MaLuotkham).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public KskLuotkhamCollection FetchByQuery(Query qry)
        {
            KskLuotkhamCollection coll = new KskLuotkhamCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object MaLuotkham)
        {
            return (KskLuotkham.Delete(MaLuotkham) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object MaLuotkham)
        {
            return (KskLuotkham.Destroy(MaLuotkham) == 1);
        }
        
        
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(string MaLuotkham,long IdNhanVien,string MaDangKy,string SoLo,DateTime NgayNhap,DateTime? NgayKham,string NguoiKham,string BarCode,string ChanDoan,string ChieuCao,string CanNang,string Bmi,string Mach,string HuyetAp,string NoiKhoa,string TaiMuiHong,string Mat,string DaLieu,string KetLuan,int? SoKham,string BacSyThucHien,byte? TrangThai,DateTime? NgayNhanCls,string LoaiSk,string ChucVu,byte? IsBenhManTinh,byte? IsBenhHiemNgheo,string NguoiKetThuc,DateTime? NgayKetThuc,DateTime? NgayThanhToan,string NguoiThanhToan,decimal? TongTien,decimal? GiamGia,string MoTaThem,string GhiChu,string NhanXet,string NguoiTao,DateTime? NgayTao,string NguoiSua,DateTime? NgaySua,string IpMayTao,string MacMayTao,string IpMaySua,string MacMaySua)
	    {
		    KskLuotkham item = new KskLuotkham();
		    
            item.MaLuotkham = MaLuotkham;
            
            item.IdNhanVien = IdNhanVien;
            
            item.MaDangKy = MaDangKy;
            
            item.SoLo = SoLo;
            
            item.NgayNhap = NgayNhap;
            
            item.NgayKham = NgayKham;
            
            item.NguoiKham = NguoiKham;
            
            item.BarCode = BarCode;
            
            item.ChanDoan = ChanDoan;
            
            item.ChieuCao = ChieuCao;
            
            item.CanNang = CanNang;
            
            item.Bmi = Bmi;
            
            item.Mach = Mach;
            
            item.HuyetAp = HuyetAp;
            
            item.NoiKhoa = NoiKhoa;
            
            item.TaiMuiHong = TaiMuiHong;
            
            item.Mat = Mat;
            
            item.DaLieu = DaLieu;
            
            item.KetLuan = KetLuan;
            
            item.SoKham = SoKham;
            
            item.BacSyThucHien = BacSyThucHien;
            
            item.TrangThai = TrangThai;
            
            item.NgayNhanCls = NgayNhanCls;
            
            item.LoaiSk = LoaiSk;
            
            item.ChucVu = ChucVu;
            
            item.IsBenhManTinh = IsBenhManTinh;
            
            item.IsBenhHiemNgheo = IsBenhHiemNgheo;
            
            item.NguoiKetThuc = NguoiKetThuc;
            
            item.NgayKetThuc = NgayKetThuc;
            
            item.NgayThanhToan = NgayThanhToan;
            
            item.NguoiThanhToan = NguoiThanhToan;
            
            item.TongTien = TongTien;
            
            item.GiamGia = GiamGia;
            
            item.MoTaThem = MoTaThem;
            
            item.GhiChu = GhiChu;
            
            item.NhanXet = NhanXet;
            
            item.NguoiTao = NguoiTao;
            
            item.NgayTao = NgayTao;
            
            item.NguoiSua = NguoiSua;
            
            item.NgaySua = NgaySua;
            
            item.IpMayTao = IpMayTao;
            
            item.MacMayTao = MacMayTao;
            
            item.IpMaySua = IpMaySua;
            
            item.MacMaySua = MacMaySua;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(string MaLuotkham,long IdNhanVien,string MaDangKy,string SoLo,DateTime NgayNhap,DateTime? NgayKham,string NguoiKham,string BarCode,string ChanDoan,string ChieuCao,string CanNang,string Bmi,string Mach,string HuyetAp,string NoiKhoa,string TaiMuiHong,string Mat,string DaLieu,string KetLuan,int? SoKham,string BacSyThucHien,byte? TrangThai,DateTime? NgayNhanCls,string LoaiSk,string ChucVu,byte? IsBenhManTinh,byte? IsBenhHiemNgheo,string NguoiKetThuc,DateTime? NgayKetThuc,DateTime? NgayThanhToan,string NguoiThanhToan,decimal? TongTien,decimal? GiamGia,string MoTaThem,string GhiChu,string NhanXet,string NguoiTao,DateTime? NgayTao,string NguoiSua,DateTime? NgaySua,string IpMayTao,string MacMayTao,string IpMaySua,string MacMaySua)
	    {
		    KskLuotkham item = new KskLuotkham();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.MaLuotkham = MaLuotkham;
				
			item.IdNhanVien = IdNhanVien;
				
			item.MaDangKy = MaDangKy;
				
			item.SoLo = SoLo;
				
			item.NgayNhap = NgayNhap;
				
			item.NgayKham = NgayKham;
				
			item.NguoiKham = NguoiKham;
				
			item.BarCode = BarCode;
				
			item.ChanDoan = ChanDoan;
				
			item.ChieuCao = ChieuCao;
				
			item.CanNang = CanNang;
				
			item.Bmi = Bmi;
				
			item.Mach = Mach;
				
			item.HuyetAp = HuyetAp;
				
			item.NoiKhoa = NoiKhoa;
				
			item.TaiMuiHong = TaiMuiHong;
				
			item.Mat = Mat;
				
			item.DaLieu = DaLieu;
				
			item.KetLuan = KetLuan;
				
			item.SoKham = SoKham;
				
			item.BacSyThucHien = BacSyThucHien;
				
			item.TrangThai = TrangThai;
				
			item.NgayNhanCls = NgayNhanCls;
				
			item.LoaiSk = LoaiSk;
				
			item.ChucVu = ChucVu;
				
			item.IsBenhManTinh = IsBenhManTinh;
				
			item.IsBenhHiemNgheo = IsBenhHiemNgheo;
				
			item.NguoiKetThuc = NguoiKetThuc;
				
			item.NgayKetThuc = NgayKetThuc;
				
			item.NgayThanhToan = NgayThanhToan;
				
			item.NguoiThanhToan = NguoiThanhToan;
				
			item.TongTien = TongTien;
				
			item.GiamGia = GiamGia;
				
			item.MoTaThem = MoTaThem;
				
			item.GhiChu = GhiChu;
				
			item.NhanXet = NhanXet;
				
			item.NguoiTao = NguoiTao;
				
			item.NgayTao = NgayTao;
				
			item.NguoiSua = NguoiSua;
				
			item.NgaySua = NgaySua;
				
			item.IpMayTao = IpMayTao;
				
			item.MacMayTao = MacMayTao;
				
			item.IpMaySua = IpMaySua;
				
			item.MacMaySua = MacMaySua;
				
	        item.Save(UserName);
	    }
    }
}
