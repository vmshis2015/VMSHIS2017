using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VNS.HIS.DAL
{
    /// <summary>
    /// Controller class for T_TONG_CHIPHI
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class TTongChiphiController
    {
        // Preload our schema..
        TTongChiphi thisSchemaLoad = new TTongChiphi();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public TTongChiphiCollection FetchAll()
        {
            TTongChiphiCollection coll = new TTongChiphiCollection();
            Query qry = new Query(TTongChiphi.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public TTongChiphiCollection FetchByID(object Id)
        {
            TTongChiphiCollection coll = new TTongChiphiCollection().Where("Id", Id).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public TTongChiphiCollection FetchByQuery(Query qry)
        {
            TTongChiphiCollection coll = new TTongChiphiCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object Id)
        {
            return (TTongChiphi.Delete(Id) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object Id)
        {
            return (TTongChiphi.Destroy(Id) == 1);
        }
        
        
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(int? PatientId,string PatientCode,int? PaymentTypeId,int? IdDvu,string TenDvu,string Dvt,int? SoLuong,decimal? DonGia,decimal? PhuThu,decimal? Bhct,decimal? Bnct,int? IdPhieu,int? IdPhieuCt,int? IsPayment,int PaymentStatus,string NguoiTao,DateTime? NgayTao,DateTime? NgayDky,int? IdKhoa,int? XacNhan,int? NoiTru,string MaKieuDvu,int? IdGoiDvu,string MaKieuTtoan,DateTime? PaymentDate,int? TrongGoi,int? IdLoaiDvu,int? SoPhieuRavien,int? PaymentId,int? DaThien,string TenHienThi,byte? HienThi,short? IdBsyCdinh,short? IdKhoaCdinh,decimal? TienBnTra)
	    {
		    TTongChiphi item = new TTongChiphi();
		    
            item.PatientId = PatientId;
            
            item.PatientCode = PatientCode;
            
            item.PaymentTypeId = PaymentTypeId;
            
            item.IdDvu = IdDvu;
            
            item.TenDvu = TenDvu;
            
            item.Dvt = Dvt;
            
            item.SoLuong = SoLuong;
            
            item.DonGia = DonGia;
            
            item.PhuThu = PhuThu;
            
            item.Bhct = Bhct;
            
            item.Bnct = Bnct;
            
            item.IdPhieu = IdPhieu;
            
            item.IdPhieuCt = IdPhieuCt;
            
            item.IsPayment = IsPayment;
            
            item.PaymentStatus = PaymentStatus;
            
            item.NguoiTao = NguoiTao;
            
            item.NgayTao = NgayTao;
            
            item.NgayDky = NgayDky;
            
            item.IdKhoa = IdKhoa;
            
            item.XacNhan = XacNhan;
            
            item.NoiTru = NoiTru;
            
            item.MaKieuDvu = MaKieuDvu;
            
            item.IdGoiDvu = IdGoiDvu;
            
            item.MaKieuTtoan = MaKieuTtoan;
            
            item.PaymentDate = PaymentDate;
            
            item.TrongGoi = TrongGoi;
            
            item.IdLoaiDvu = IdLoaiDvu;
            
            item.SoPhieuRavien = SoPhieuRavien;
            
            item.PaymentId = PaymentId;
            
            item.DaThien = DaThien;
            
            item.TenHienThi = TenHienThi;
            
            item.HienThi = HienThi;
            
            item.IdBsyCdinh = IdBsyCdinh;
            
            item.IdKhoaCdinh = IdKhoaCdinh;
            
            item.TienBnTra = TienBnTra;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(int Id,int? PatientId,string PatientCode,int? PaymentTypeId,int? IdDvu,string TenDvu,string Dvt,int? SoLuong,decimal? DonGia,decimal? PhuThu,decimal? Bhct,decimal? Bnct,int? IdPhieu,int? IdPhieuCt,int? IsPayment,int PaymentStatus,string NguoiTao,DateTime? NgayTao,DateTime? NgayDky,int? IdKhoa,int? XacNhan,int? NoiTru,string MaKieuDvu,int? IdGoiDvu,string MaKieuTtoan,DateTime? PaymentDate,int? TrongGoi,int? IdLoaiDvu,int? SoPhieuRavien,int? PaymentId,int? DaThien,string TenHienThi,byte? HienThi,short? IdBsyCdinh,short? IdKhoaCdinh,decimal? TienBnTra)
	    {
		    TTongChiphi item = new TTongChiphi();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.Id = Id;
				
			item.PatientId = PatientId;
				
			item.PatientCode = PatientCode;
				
			item.PaymentTypeId = PaymentTypeId;
				
			item.IdDvu = IdDvu;
				
			item.TenDvu = TenDvu;
				
			item.Dvt = Dvt;
				
			item.SoLuong = SoLuong;
				
			item.DonGia = DonGia;
				
			item.PhuThu = PhuThu;
				
			item.Bhct = Bhct;
				
			item.Bnct = Bnct;
				
			item.IdPhieu = IdPhieu;
				
			item.IdPhieuCt = IdPhieuCt;
				
			item.IsPayment = IsPayment;
				
			item.PaymentStatus = PaymentStatus;
				
			item.NguoiTao = NguoiTao;
				
			item.NgayTao = NgayTao;
				
			item.NgayDky = NgayDky;
				
			item.IdKhoa = IdKhoa;
				
			item.XacNhan = XacNhan;
				
			item.NoiTru = NoiTru;
				
			item.MaKieuDvu = MaKieuDvu;
				
			item.IdGoiDvu = IdGoiDvu;
				
			item.MaKieuTtoan = MaKieuTtoan;
				
			item.PaymentDate = PaymentDate;
				
			item.TrongGoi = TrongGoi;
				
			item.IdLoaiDvu = IdLoaiDvu;
				
			item.SoPhieuRavien = SoPhieuRavien;
				
			item.PaymentId = PaymentId;
				
			item.DaThien = DaThien;
				
			item.TenHienThi = TenHienThi;
				
			item.HienThi = HienThi;
				
			item.IdBsyCdinh = IdBsyCdinh;
				
			item.IdKhoaCdinh = IdKhoaCdinh;
				
			item.TienBnTra = TienBnTra;
				
	        item.Save(UserName);
	    }
    }
}
