using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VNS.HIS.DAL
{
    /// <summary>
    /// Controller class for kcb_ketqua_cls
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class KcbKetquaClController
    {
        // Preload our schema..
        KcbKetquaCl thisSchemaLoad = new KcbKetquaCl();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public KcbKetquaClCollection FetchAll()
        {
            KcbKetquaClCollection coll = new KcbKetquaClCollection();
            Query qry = new Query(KcbKetquaCl.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public KcbKetquaClCollection FetchByID(object IdKq)
        {
            KcbKetquaClCollection coll = new KcbKetquaClCollection().Where("id_kq", IdKq).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public KcbKetquaClCollection FetchByQuery(Query qry)
        {
            KcbKetquaClCollection coll = new KcbKetquaClCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object IdKq)
        {
            return (KcbKetquaCl.Delete(IdKq) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object IdKq)
        {
            return (KcbKetquaCl.Destroy(IdKq) == 1);
        }
        
        
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(long IdBenhnhan,string MaLuotkham,string MaChidinh,string MaBenhpham,long IdChidinh,long IdChitietchidinh,int IdDichvu,int IdDichvuchitiet,long? IdLab,long? IdChitietLab,string Barcode,int? SttIn,string KetQua,string BtNu,string BtNam,string TenDonvitinh,string TenThongso,string TenKq,int? LoaiKq,int? ChophepHienthi,int? ChophepIn,string MotaThem,string NguoiTao,DateTime? NgayTao,string NguoiSua,DateTime? NgaySua,byte? TrangThai,string NguoiXacnhan,DateTime? NgayXacnhan,string IpMaytao,string IpMaysua,string TenMaytao,string TenMaysua)
	    {
		    KcbKetquaCl item = new KcbKetquaCl();
		    
            item.IdBenhnhan = IdBenhnhan;
            
            item.MaLuotkham = MaLuotkham;
            
            item.MaChidinh = MaChidinh;
            
            item.MaBenhpham = MaBenhpham;
            
            item.IdChidinh = IdChidinh;
            
            item.IdChitietchidinh = IdChitietchidinh;
            
            item.IdDichvu = IdDichvu;
            
            item.IdDichvuchitiet = IdDichvuchitiet;
            
            item.IdLab = IdLab;
            
            item.IdChitietLab = IdChitietLab;
            
            item.Barcode = Barcode;
            
            item.SttIn = SttIn;
            
            item.KetQua = KetQua;
            
            item.BtNu = BtNu;
            
            item.BtNam = BtNam;
            
            item.TenDonvitinh = TenDonvitinh;
            
            item.TenThongso = TenThongso;
            
            item.TenKq = TenKq;
            
            item.LoaiKq = LoaiKq;
            
            item.ChophepHienthi = ChophepHienthi;
            
            item.ChophepIn = ChophepIn;
            
            item.MotaThem = MotaThem;
            
            item.NguoiTao = NguoiTao;
            
            item.NgayTao = NgayTao;
            
            item.NguoiSua = NguoiSua;
            
            item.NgaySua = NgaySua;
            
            item.TrangThai = TrangThai;
            
            item.NguoiXacnhan = NguoiXacnhan;
            
            item.NgayXacnhan = NgayXacnhan;
            
            item.IpMaytao = IpMaytao;
            
            item.IpMaysua = IpMaysua;
            
            item.TenMaytao = TenMaytao;
            
            item.TenMaysua = TenMaysua;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(long IdKq,long IdBenhnhan,string MaLuotkham,string MaChidinh,string MaBenhpham,long IdChidinh,long IdChitietchidinh,int IdDichvu,int IdDichvuchitiet,long? IdLab,long? IdChitietLab,string Barcode,int? SttIn,string KetQua,string BtNu,string BtNam,string TenDonvitinh,string TenThongso,string TenKq,int? LoaiKq,int? ChophepHienthi,int? ChophepIn,string MotaThem,string NguoiTao,DateTime? NgayTao,string NguoiSua,DateTime? NgaySua,byte? TrangThai,string NguoiXacnhan,DateTime? NgayXacnhan,string IpMaytao,string IpMaysua,string TenMaytao,string TenMaysua)
	    {
		    KcbKetquaCl item = new KcbKetquaCl();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.IdKq = IdKq;
				
			item.IdBenhnhan = IdBenhnhan;
				
			item.MaLuotkham = MaLuotkham;
				
			item.MaChidinh = MaChidinh;
				
			item.MaBenhpham = MaBenhpham;
				
			item.IdChidinh = IdChidinh;
				
			item.IdChitietchidinh = IdChitietchidinh;
				
			item.IdDichvu = IdDichvu;
				
			item.IdDichvuchitiet = IdDichvuchitiet;
				
			item.IdLab = IdLab;
				
			item.IdChitietLab = IdChitietLab;
				
			item.Barcode = Barcode;
				
			item.SttIn = SttIn;
				
			item.KetQua = KetQua;
				
			item.BtNu = BtNu;
				
			item.BtNam = BtNam;
				
			item.TenDonvitinh = TenDonvitinh;
				
			item.TenThongso = TenThongso;
				
			item.TenKq = TenKq;
				
			item.LoaiKq = LoaiKq;
				
			item.ChophepHienthi = ChophepHienthi;
				
			item.ChophepIn = ChophepIn;
				
			item.MotaThem = MotaThem;
				
			item.NguoiTao = NguoiTao;
				
			item.NgayTao = NgayTao;
				
			item.NguoiSua = NguoiSua;
				
			item.NgaySua = NgaySua;
				
			item.TrangThai = TrangThai;
				
			item.NguoiXacnhan = NguoiXacnhan;
				
			item.NgayXacnhan = NgayXacnhan;
				
			item.IpMaytao = IpMaytao;
				
			item.IpMaysua = IpMaysua;
				
			item.TenMaytao = TenMaytao;
				
			item.TenMaysua = TenMaysua;
				
	        item.Save(UserName);
	    }
    }
}
