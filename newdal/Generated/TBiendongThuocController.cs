using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VNS.HIS.DAL
{
    /// <summary>
    /// Controller class for t_biendong_thuoc
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class TBiendongThuocController
    {
        // Preload our schema..
        TBiendongThuoc thisSchemaLoad = new TBiendongThuoc();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public TBiendongThuocCollection FetchAll()
        {
            TBiendongThuocCollection coll = new TBiendongThuocCollection();
            Query qry = new Query(TBiendongThuoc.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public TBiendongThuocCollection FetchByID(object IdBiendong)
        {
            TBiendongThuocCollection coll = new TBiendongThuocCollection().Where("id_biendong", IdBiendong).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public TBiendongThuocCollection FetchByQuery(Query qry)
        {
            TBiendongThuocCollection coll = new TBiendongThuocCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object IdBiendong)
        {
            return (TBiendongThuoc.Delete(IdBiendong) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object IdBiendong)
        {
            return (TBiendongThuoc.Destroy(IdBiendong) == 1);
        }
        
        
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(string MaPhieu,short? IdKho,int IdThuoc,DateTime? NgayHethan,decimal? SoLuong,decimal? SluongChia,decimal? DonGia,decimal? ThanhTien,decimal? PhuThu,int? IdPhieuChitiet,int? IdPhieu,int? Vat,string SoHoadon,string MaNhacungcap,byte? MaLoaiphieu,string TenLoaiphieu,DateTime? NgayHoadon,DateTime? NgayBiendong,short? IdNhanvien,string NguoiTao,DateTime? NgayTao,short? IdKhoaLinh,decimal? GiaBan,decimal? GiaNhap,string SoLo,long? IdThuockho,long? IdChuyen,string KieuThuocvattu,string MotaThem,string SoChungtuKemtheo,byte? Noitru,byte? QuayThuoc,decimal? GiaBhyt,decimal? GiaBhytCu,decimal? GiaPhuthuDungtuyen,decimal? GiaPhuthuTraituyen,byte? DuTru,DateTime? NgayNhap,string KieuBiendong,byte? ThuocVay,long? IdBenhnhan,short? IdDoituongKcb,string MaLuotkham,string SoDky,string SoQdinhthau)
	    {
		    TBiendongThuoc item = new TBiendongThuoc();
		    
            item.MaPhieu = MaPhieu;
            
            item.IdKho = IdKho;
            
            item.IdThuoc = IdThuoc;
            
            item.NgayHethan = NgayHethan;
            
            item.SoLuong = SoLuong;
            
            item.SluongChia = SluongChia;
            
            item.DonGia = DonGia;
            
            item.ThanhTien = ThanhTien;
            
            item.PhuThu = PhuThu;
            
            item.IdPhieuChitiet = IdPhieuChitiet;
            
            item.IdPhieu = IdPhieu;
            
            item.Vat = Vat;
            
            item.SoHoadon = SoHoadon;
            
            item.MaNhacungcap = MaNhacungcap;
            
            item.MaLoaiphieu = MaLoaiphieu;
            
            item.TenLoaiphieu = TenLoaiphieu;
            
            item.NgayHoadon = NgayHoadon;
            
            item.NgayBiendong = NgayBiendong;
            
            item.IdNhanvien = IdNhanvien;
            
            item.NguoiTao = NguoiTao;
            
            item.NgayTao = NgayTao;
            
            item.IdKhoaLinh = IdKhoaLinh;
            
            item.GiaBan = GiaBan;
            
            item.GiaNhap = GiaNhap;
            
            item.SoLo = SoLo;
            
            item.IdThuockho = IdThuockho;
            
            item.IdChuyen = IdChuyen;
            
            item.KieuThuocvattu = KieuThuocvattu;
            
            item.MotaThem = MotaThem;
            
            item.SoChungtuKemtheo = SoChungtuKemtheo;
            
            item.Noitru = Noitru;
            
            item.QuayThuoc = QuayThuoc;
            
            item.GiaBhyt = GiaBhyt;
            
            item.GiaBhytCu = GiaBhytCu;
            
            item.GiaPhuthuDungtuyen = GiaPhuthuDungtuyen;
            
            item.GiaPhuthuTraituyen = GiaPhuthuTraituyen;
            
            item.DuTru = DuTru;
            
            item.NgayNhap = NgayNhap;
            
            item.KieuBiendong = KieuBiendong;
            
            item.ThuocVay = ThuocVay;
            
            item.IdBenhnhan = IdBenhnhan;
            
            item.IdDoituongKcb = IdDoituongKcb;
            
            item.MaLuotkham = MaLuotkham;
            
            item.SoDky = SoDky;
            
            item.SoQdinhthau = SoQdinhthau;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(long IdBiendong,string MaPhieu,short? IdKho,int IdThuoc,DateTime? NgayHethan,decimal? SoLuong,decimal? SluongChia,decimal? DonGia,decimal? ThanhTien,decimal? PhuThu,int? IdPhieuChitiet,int? IdPhieu,int? Vat,string SoHoadon,string MaNhacungcap,byte? MaLoaiphieu,string TenLoaiphieu,DateTime? NgayHoadon,DateTime? NgayBiendong,short? IdNhanvien,string NguoiTao,DateTime? NgayTao,short? IdKhoaLinh,decimal? GiaBan,decimal? GiaNhap,string SoLo,long? IdThuockho,long? IdChuyen,string KieuThuocvattu,string MotaThem,string SoChungtuKemtheo,byte? Noitru,byte? QuayThuoc,decimal? GiaBhyt,decimal? GiaBhytCu,decimal? GiaPhuthuDungtuyen,decimal? GiaPhuthuTraituyen,byte? DuTru,DateTime? NgayNhap,string KieuBiendong,byte? ThuocVay,long? IdBenhnhan,short? IdDoituongKcb,string MaLuotkham,string SoDky,string SoQdinhthau)
	    {
		    TBiendongThuoc item = new TBiendongThuoc();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.IdBiendong = IdBiendong;
				
			item.MaPhieu = MaPhieu;
				
			item.IdKho = IdKho;
				
			item.IdThuoc = IdThuoc;
				
			item.NgayHethan = NgayHethan;
				
			item.SoLuong = SoLuong;
				
			item.SluongChia = SluongChia;
				
			item.DonGia = DonGia;
				
			item.ThanhTien = ThanhTien;
				
			item.PhuThu = PhuThu;
				
			item.IdPhieuChitiet = IdPhieuChitiet;
				
			item.IdPhieu = IdPhieu;
				
			item.Vat = Vat;
				
			item.SoHoadon = SoHoadon;
				
			item.MaNhacungcap = MaNhacungcap;
				
			item.MaLoaiphieu = MaLoaiphieu;
				
			item.TenLoaiphieu = TenLoaiphieu;
				
			item.NgayHoadon = NgayHoadon;
				
			item.NgayBiendong = NgayBiendong;
				
			item.IdNhanvien = IdNhanvien;
				
			item.NguoiTao = NguoiTao;
				
			item.NgayTao = NgayTao;
				
			item.IdKhoaLinh = IdKhoaLinh;
				
			item.GiaBan = GiaBan;
				
			item.GiaNhap = GiaNhap;
				
			item.SoLo = SoLo;
				
			item.IdThuockho = IdThuockho;
				
			item.IdChuyen = IdChuyen;
				
			item.KieuThuocvattu = KieuThuocvattu;
				
			item.MotaThem = MotaThem;
				
			item.SoChungtuKemtheo = SoChungtuKemtheo;
				
			item.Noitru = Noitru;
				
			item.QuayThuoc = QuayThuoc;
				
			item.GiaBhyt = GiaBhyt;
				
			item.GiaBhytCu = GiaBhytCu;
				
			item.GiaPhuthuDungtuyen = GiaPhuthuDungtuyen;
				
			item.GiaPhuthuTraituyen = GiaPhuthuTraituyen;
				
			item.DuTru = DuTru;
				
			item.NgayNhap = NgayNhap;
				
			item.KieuBiendong = KieuBiendong;
				
			item.ThuocVay = ThuocVay;
				
			item.IdBenhnhan = IdBenhnhan;
				
			item.IdDoituongKcb = IdDoituongKcb;
				
			item.MaLuotkham = MaLuotkham;
				
			item.SoDky = SoDky;
				
			item.SoQdinhthau = SoQdinhthau;
				
	        item.Save(UserName);
	    }
    }
}
