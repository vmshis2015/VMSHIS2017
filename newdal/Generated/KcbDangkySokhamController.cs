using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VNS.HIS.DAL
{
    /// <summary>
    /// Controller class for kcb_dangky_sokham
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class KcbDangkySokhamController
    {
        // Preload our schema..
        KcbDangkySokham thisSchemaLoad = new KcbDangkySokham();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public KcbDangkySokhamCollection FetchAll()
        {
            KcbDangkySokhamCollection coll = new KcbDangkySokhamCollection();
            Query qry = new Query(KcbDangkySokham.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public KcbDangkySokhamCollection FetchByID(object IdSokcb)
        {
            KcbDangkySokhamCollection coll = new KcbDangkySokhamCollection().Where("id_sokcb", IdSokcb).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public KcbDangkySokhamCollection FetchByQuery(Query qry)
        {
            KcbDangkySokhamCollection coll = new KcbDangkySokhamCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object IdSokcb)
        {
            return (KcbDangkySokham.Delete(IdSokcb) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object IdSokcb)
        {
            return (KcbDangkySokham.Destroy(IdSokcb) == 1);
        }
        
        
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(long IdBenhnhan,string MaLuotkham,string MaSokcb,decimal DonGia,decimal BhytChitra,decimal BnhanChitra,decimal PtramBhytGoc,decimal PtramBhyt,decimal PhuThu,byte TrangthaiThanhtoan,long? IdThanhtoan,DateTime? NgayThanhtoan,string NguoiThanhtoan,byte TuTuc,string MaDoituongkcb,short IdDoituongkcb,byte IdLoaidoituongkcb,short IdKhoakcb,short? IdNhanvien,int? IdGoi,byte? TrongGoi,byte? NguonThanhtoan,byte? Noitru,long? IdLichsuDoituongKcb,string MatheBhyt,DateTime NgayTao,string NguoiTao,DateTime? NgaySua,string NguoiSua)
	    {
		    KcbDangkySokham item = new KcbDangkySokham();
		    
            item.IdBenhnhan = IdBenhnhan;
            
            item.MaLuotkham = MaLuotkham;
            
            item.MaSokcb = MaSokcb;
            
            item.DonGia = DonGia;
            
            item.BhytChitra = BhytChitra;
            
            item.BnhanChitra = BnhanChitra;
            
            item.PtramBhytGoc = PtramBhytGoc;
            
            item.PtramBhyt = PtramBhyt;
            
            item.PhuThu = PhuThu;
            
            item.TrangthaiThanhtoan = TrangthaiThanhtoan;
            
            item.IdThanhtoan = IdThanhtoan;
            
            item.NgayThanhtoan = NgayThanhtoan;
            
            item.NguoiThanhtoan = NguoiThanhtoan;
            
            item.TuTuc = TuTuc;
            
            item.MaDoituongkcb = MaDoituongkcb;
            
            item.IdDoituongkcb = IdDoituongkcb;
            
            item.IdLoaidoituongkcb = IdLoaidoituongkcb;
            
            item.IdKhoakcb = IdKhoakcb;
            
            item.IdNhanvien = IdNhanvien;
            
            item.IdGoi = IdGoi;
            
            item.TrongGoi = TrongGoi;
            
            item.NguonThanhtoan = NguonThanhtoan;
            
            item.Noitru = Noitru;
            
            item.IdLichsuDoituongKcb = IdLichsuDoituongKcb;
            
            item.MatheBhyt = MatheBhyt;
            
            item.NgayTao = NgayTao;
            
            item.NguoiTao = NguoiTao;
            
            item.NgaySua = NgaySua;
            
            item.NguoiSua = NguoiSua;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(long IdSokcb,long IdBenhnhan,string MaLuotkham,string MaSokcb,decimal DonGia,decimal BhytChitra,decimal BnhanChitra,decimal PtramBhytGoc,decimal PtramBhyt,decimal PhuThu,byte TrangthaiThanhtoan,long? IdThanhtoan,DateTime? NgayThanhtoan,string NguoiThanhtoan,byte TuTuc,string MaDoituongkcb,short IdDoituongkcb,byte IdLoaidoituongkcb,short IdKhoakcb,short? IdNhanvien,int? IdGoi,byte? TrongGoi,byte? NguonThanhtoan,byte? Noitru,long? IdLichsuDoituongKcb,string MatheBhyt,DateTime NgayTao,string NguoiTao,DateTime? NgaySua,string NguoiSua)
	    {
		    KcbDangkySokham item = new KcbDangkySokham();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.IdSokcb = IdSokcb;
				
			item.IdBenhnhan = IdBenhnhan;
				
			item.MaLuotkham = MaLuotkham;
				
			item.MaSokcb = MaSokcb;
				
			item.DonGia = DonGia;
				
			item.BhytChitra = BhytChitra;
				
			item.BnhanChitra = BnhanChitra;
				
			item.PtramBhytGoc = PtramBhytGoc;
				
			item.PtramBhyt = PtramBhyt;
				
			item.PhuThu = PhuThu;
				
			item.TrangthaiThanhtoan = TrangthaiThanhtoan;
				
			item.IdThanhtoan = IdThanhtoan;
				
			item.NgayThanhtoan = NgayThanhtoan;
				
			item.NguoiThanhtoan = NguoiThanhtoan;
				
			item.TuTuc = TuTuc;
				
			item.MaDoituongkcb = MaDoituongkcb;
				
			item.IdDoituongkcb = IdDoituongkcb;
				
			item.IdLoaidoituongkcb = IdLoaidoituongkcb;
				
			item.IdKhoakcb = IdKhoakcb;
				
			item.IdNhanvien = IdNhanvien;
				
			item.IdGoi = IdGoi;
				
			item.TrongGoi = TrongGoi;
				
			item.NguonThanhtoan = NguonThanhtoan;
				
			item.Noitru = Noitru;
				
			item.IdLichsuDoituongKcb = IdLichsuDoituongKcb;
				
			item.MatheBhyt = MatheBhyt;
				
			item.NgayTao = NgayTao;
				
			item.NguoiTao = NguoiTao;
				
			item.NgaySua = NgaySua;
				
			item.NguoiSua = NguoiSua;
				
	        item.Save(UserName);
	    }
    }
}
