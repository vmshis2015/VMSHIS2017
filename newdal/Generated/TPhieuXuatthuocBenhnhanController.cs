using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VNS.HIS.DAL
{
    /// <summary>
    /// Controller class for t_phieu_xuatthuoc_benhnhan
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class TPhieuXuatthuocBenhnhanController
    {
        // Preload our schema..
        TPhieuXuatthuocBenhnhan thisSchemaLoad = new TPhieuXuatthuocBenhnhan();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public TPhieuXuatthuocBenhnhanCollection FetchAll()
        {
            TPhieuXuatthuocBenhnhanCollection coll = new TPhieuXuatthuocBenhnhanCollection();
            Query qry = new Query(TPhieuXuatthuocBenhnhan.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public TPhieuXuatthuocBenhnhanCollection FetchByID(object IdPhieu)
        {
            TPhieuXuatthuocBenhnhanCollection coll = new TPhieuXuatthuocBenhnhanCollection().Where("id_phieu", IdPhieu).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public TPhieuXuatthuocBenhnhanCollection FetchByQuery(Query qry)
        {
            TPhieuXuatthuocBenhnhanCollection coll = new TPhieuXuatthuocBenhnhanCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object IdPhieu)
        {
            return (TPhieuXuatthuocBenhnhan.Delete(IdPhieu) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object IdPhieu)
        {
            return (TPhieuXuatthuocBenhnhan.Destroy(IdPhieu) == 1);
        }
        
        
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(long? IdDonthuoc,long? IdBenhnhan,string MaLuotkham,string MaPhieu,DateTime? NgayXacnhan,DateTime? NgayChot,long? IdChot,DateTime? NgayHuychot,string NguoiHuychot,string LydoHuychot,DateTime? NgayKedon,string TenBenhnhan,string TenKhongdau,string GioiTinh,string ChanDoan,string MabenhChinh,string DiaChi,int? NamSinh,string MatheBhyt,short? IdDoituongKcb,string MaDoituongKcb,int? IdCapphat,short? IdNhanvien,short? IdKhoaChidinh,short? IdPhongChidinh,short? IdBacsiKedon,short? IdKho,byte? Noitru,string NguoiPhatthuoc,string NguoiTao,DateTime? NgayTao,byte? LoaiPhieu,string TenLoaiphieu,byte? QuayThuoc,string KieuThuocvattu)
	    {
		    TPhieuXuatthuocBenhnhan item = new TPhieuXuatthuocBenhnhan();
		    
            item.IdDonthuoc = IdDonthuoc;
            
            item.IdBenhnhan = IdBenhnhan;
            
            item.MaLuotkham = MaLuotkham;
            
            item.MaPhieu = MaPhieu;
            
            item.NgayXacnhan = NgayXacnhan;
            
            item.NgayChot = NgayChot;
            
            item.IdChot = IdChot;
            
            item.NgayHuychot = NgayHuychot;
            
            item.NguoiHuychot = NguoiHuychot;
            
            item.LydoHuychot = LydoHuychot;
            
            item.NgayKedon = NgayKedon;
            
            item.TenBenhnhan = TenBenhnhan;
            
            item.TenKhongdau = TenKhongdau;
            
            item.GioiTinh = GioiTinh;
            
            item.ChanDoan = ChanDoan;
            
            item.MabenhChinh = MabenhChinh;
            
            item.DiaChi = DiaChi;
            
            item.NamSinh = NamSinh;
            
            item.MatheBhyt = MatheBhyt;
            
            item.IdDoituongKcb = IdDoituongKcb;
            
            item.MaDoituongKcb = MaDoituongKcb;
            
            item.IdCapphat = IdCapphat;
            
            item.IdNhanvien = IdNhanvien;
            
            item.IdKhoaChidinh = IdKhoaChidinh;
            
            item.IdPhongChidinh = IdPhongChidinh;
            
            item.IdBacsiKedon = IdBacsiKedon;
            
            item.IdKho = IdKho;
            
            item.Noitru = Noitru;
            
            item.NguoiPhatthuoc = NguoiPhatthuoc;
            
            item.NguoiTao = NguoiTao;
            
            item.NgayTao = NgayTao;
            
            item.LoaiPhieu = LoaiPhieu;
            
            item.TenLoaiphieu = TenLoaiphieu;
            
            item.QuayThuoc = QuayThuoc;
            
            item.KieuThuocvattu = KieuThuocvattu;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(long IdPhieu,long? IdDonthuoc,long? IdBenhnhan,string MaLuotkham,string MaPhieu,DateTime? NgayXacnhan,DateTime? NgayChot,long? IdChot,DateTime? NgayHuychot,string NguoiHuychot,string LydoHuychot,DateTime? NgayKedon,string TenBenhnhan,string TenKhongdau,string GioiTinh,string ChanDoan,string MabenhChinh,string DiaChi,int? NamSinh,string MatheBhyt,short? IdDoituongKcb,string MaDoituongKcb,int? IdCapphat,short? IdNhanvien,short? IdKhoaChidinh,short? IdPhongChidinh,short? IdBacsiKedon,short? IdKho,byte? Noitru,string NguoiPhatthuoc,string NguoiTao,DateTime? NgayTao,byte? LoaiPhieu,string TenLoaiphieu,byte? QuayThuoc,string KieuThuocvattu)
	    {
		    TPhieuXuatthuocBenhnhan item = new TPhieuXuatthuocBenhnhan();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.IdPhieu = IdPhieu;
				
			item.IdDonthuoc = IdDonthuoc;
				
			item.IdBenhnhan = IdBenhnhan;
				
			item.MaLuotkham = MaLuotkham;
				
			item.MaPhieu = MaPhieu;
				
			item.NgayXacnhan = NgayXacnhan;
				
			item.NgayChot = NgayChot;
				
			item.IdChot = IdChot;
				
			item.NgayHuychot = NgayHuychot;
				
			item.NguoiHuychot = NguoiHuychot;
				
			item.LydoHuychot = LydoHuychot;
				
			item.NgayKedon = NgayKedon;
				
			item.TenBenhnhan = TenBenhnhan;
				
			item.TenKhongdau = TenKhongdau;
				
			item.GioiTinh = GioiTinh;
				
			item.ChanDoan = ChanDoan;
				
			item.MabenhChinh = MabenhChinh;
				
			item.DiaChi = DiaChi;
				
			item.NamSinh = NamSinh;
				
			item.MatheBhyt = MatheBhyt;
				
			item.IdDoituongKcb = IdDoituongKcb;
				
			item.MaDoituongKcb = MaDoituongKcb;
				
			item.IdCapphat = IdCapphat;
				
			item.IdNhanvien = IdNhanvien;
				
			item.IdKhoaChidinh = IdKhoaChidinh;
				
			item.IdPhongChidinh = IdPhongChidinh;
				
			item.IdBacsiKedon = IdBacsiKedon;
				
			item.IdKho = IdKho;
				
			item.Noitru = Noitru;
				
			item.NguoiPhatthuoc = NguoiPhatthuoc;
				
			item.NguoiTao = NguoiTao;
				
			item.NgayTao = NgayTao;
				
			item.LoaiPhieu = LoaiPhieu;
				
			item.TenLoaiphieu = TenLoaiphieu;
				
			item.QuayThuoc = QuayThuoc;
				
			item.KieuThuocvattu = KieuThuocvattu;
				
	        item.Save(UserName);
	    }
    }
}
